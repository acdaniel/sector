/** sector v0.3.3 | (c) 2014 Adam Daniel <adam@acdaniel.com> | MIT license */
!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.sector=t()}}(function(){return function t(e,i,n){function s(r,o){if(!i[r]){if(!e[r]){var u="function"==typeof require&&require;if(!o&&u)return u(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+r+"'")}var l=i[r]={exports:{}};e[r][0].call(l.exports,function(t){var i=e[r][1][t];return s(i?i:t)},l,l.exports,t,e,i,n)}return i[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t,e){var i=t("./utils"),n=t("./registry"),s=t("./mixins/hooked"),a=t("./mixins/traceable"),r=t("./mixins/listener"),o=t("./mixins/pubsub"),u=function(t){var e=this,s=i.omit(t,"el"),a=i.pick(t,"el"),r=i.result(this,"defaults"),o=i.pick(s,function(t,e){return i.has(r,e)||"id"===e});i.defaults(this,o,r),this.id||(this.id=i.uniqueId("i")),i.has(a,"el")&&(this.el=i.isString(a.el)?i.select(a.el,!0):a.el,this.el!==document&&(this.el.id=this.id),this.el.addEventListener("DOMNodeRemoved",function(t){t.target===e.el&&(e.el.removeEventListener("DOMNodeRemoved",this),e.destroy())},!1),this.after("destroy",function(){this.el=void 0})),n.addInstance(this),this.initialize.call(this,s)};u.prototype.select=function(t){return i.select(t,this.el)},u.prototype.selectAll=function(t){return i.selectAll(t,this.el)},u.prototype.toString=function(){return"["+this.type+" "+this.id+"]"},u.prototype.defaults=null,u.prototype.initialize=i.noop,u.prototype.destroy=i.noop,u.define=function(t){var e,u;return t.type||(t.type=i.uniqueId("c")),e=Array.prototype.slice.call(arguments,1),e.unshift(t,s,a,r,o),u=i.define.apply(this,e),n.addComponent(u),u},u.attachTo=function(t,e){var n,s,a=this;e=e||{},s=i.isString(t)?i.select(t):[t];for(var r=0,o=s.length;o>r;r++)e.el=s[r],e.id=e.id||s[r].id,n=new a(e)},u.destroyAll=function(){for(var t=n.findInstancesOf(this.prototype.type),e=0,i=t.length;i>e;e++)t[e].destroy(),n.removeInstance(t[e])},e.exports=u},{"./mixins/hooked":4,"./mixins/listener":5,"./mixins/pubsub":6,"./mixins/traceable":7,"./registry":10,"./utils":12}],2:[function(t,e,i){i.Component=t("./component"),i.init=function(t,e){t=t||{},i.defaults(t,{root:document,publishProgress:!1,ignoreNotFound:!1,componentSelector:"[data-component]",componentAttribute:"data-component",optionsAttribute:"data-attrs",optionsAttrPrefix:"data-attr-",readyTopic:"ui.ready",initializingTopic:"ui.initializing"});var n=function(t,e){var n=i.createEvent("pubsub."+t,{topic:t,data:e});document.dispatchEvent(n)};i.documentReady(function(){function s(){e&&e(),n(t.readyTopic,{})}function a(t){function e(){return a>=r?s():(t(n[a],a++),void i.defer(e))}var n=this,a=0,r=this.length;e()}var r=[].slice.call(t.root.querySelectorAll(t.componentSelector)),o=r.length,u=t.publishProgress?a:Array.prototype.forEach;u.call(r,function(e,s){t.publishProgress&&n(t.initializingTopic,{componentCount:o,progress:100*((s+1)/o)});var a,r,u,l,c,h={};if(u=e.getAttribute(t.componentAttribute),h.id=e.id,e.hasAttribute(t.optionsAttribute)?h=JSON.parse(e.getAttribute(t.optionsAttribute)):(r=[].slice.call(e.attributes),c=t.optionsAttrPrefix.length,r.forEach(function(e){e.name.substr(0,c)===t.optionsAttrPrefix&&(h[e.name.substr(c)]=e.value)})),a="script"===e.tagName.toLowerCase()?t.root:e,l=i.registry.findComponent(u))l.attachTo(a,h);else if(!t.ignoreNotFound)throw new Error("component "+u+" not found")}),t.publishProgress||s()})},i.mixins={Hooked:t("./mixins/hooked"),Traceable:t("./mixins/traceable"),Listener:t("./mixins/listener"),PubSub:t("./mixins/pubsub"),View:t("./mixins/view"),Bound:t("./mixins/bound"),Validator:t("./mixins/validator")},i.components={},i.ext={},i.registry=t("./registry");var n=t("lodash-node/modern/objects/assign");n(i,t("./utils"))},{"./component":1,"./mixins/bound":3,"./mixins/hooked":4,"./mixins/listener":5,"./mixins/pubsub":6,"./mixins/traceable":7,"./mixins/validator":8,"./mixins/view":9,"./registry":10,"./utils":12,"lodash-node/modern/objects/assign":24}],3:[function(t,e){var i=t("../utils");e.exports=function(){function t(e,i,n,s){var a;for(var r in e){a=e[r];var o=i?i+"."+r:r;"object"==typeof a?t(a,o,n,s):n.call(s,o,a)}}this.defaults=i.defaults({},this.defaults,{data:null,binding:null}),this.update=function(e){if(e){var n=this.data;this.data=e;var s=i.createEvent("datachange",{oldValue:n,newValue:this.data});this.el.dispatchEvent(s)}t(this.data,"",this.setDOMValue,this)},this.set=function(e,i){"undefined"==typeof i?t(e,"",this.set,this):(this.setDataValue(e,i),this.setDOMValue(e,i))},this.get=function(t){return i.getObjectPath(this.data,t)},this.bind=function(){this.binding&&(this._keyBinding=this._keyBinding||{},i.forIn(this.binding,function(t,e){i.isString(t)&&(t={key:t});var n,s=t.key,a=t.events||["change"];"@"===e[0]?(n=this.ui[e.substr(1)],Array.isArray(n)||n instanceof NodeList||(n=[n])):n="$"===e?[this.el]:[].slice.call(this.selectAll(e)),n.forEach(function(t){("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName)&&i.forIn(a,function(e){this.listenTo(t,e+":bound",function(t){var e,i=t.target;"checkbox"===i.type.toLowerCase()?e=i.checked:"radio"===i.type.toLowerCase()?(e="undefined"==typeof i.value?1:i.value,e=i.checked?e:void 0):e=i.value,this.set(s,e)})},this)}.bind(this)),t.selector=e,this._keyBinding[s]=this._keyBinding[s]||[],this._keyBinding[s].push(t)},this),this._isBound=!0)},this.unbind=function(){this.binding&&this._isBound&&(this._keyBinding={},i.forIn(this.binding,function(t,e){i.isString(t)&&(t={key:t});var n,s=t.events||["change"];"@"===e[0]?(n=this.ui[e.substr(1)],Array.isArray(n)||n instanceof NodeList||(n=[n])):n="$"===e?[this.el]:[].slice.call(this.selectAll(e)),n.forEach(function(t){("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName)&&i.forIn(s,function(e){this.stopListening(t,e+":bound")},this)}.bind(this))},this))},this.setDOMValue=function(t,e){var n;i.has(this._keyBinding,t)&&i.forIn(this._keyBinding[t],function(t){"@"===t.selector[0]?(n=this.ui[t.selector.substr(1)],Array.isArray(n)||n instanceof NodeList||(n=[n])):n="$"===t.selector?[this.el]:[].slice.call(this.selectAll(t.selector)),t.format&&(i.isString(t.format)&&(t.format=this[t.format]),e=t.format.call(this,e)),n.forEach(function(n){t.property?i.setObjectPath(n,t.property,e):t.attribute?n.setAttribute(t.attribute,e.toString()):t.html?n.innerHTML=e.toString():"INPUT"===n.tagName||"SELECT"===n.tagName||"TEXTAREA"===n.tagName?"checkbox"===n.type.toLowerCase()?n.checked=e===!0||1===e||"true"===e||"on"===e:"radio"===n.type.toLowerCase()?n.checked=n.value===e.toString():n.value=e.toString():n.textContent=e.toString()})},this)},this.setDataValue=function(t,e){var n,s=i.getObjectPath(this.data,t);s!==e&&(i.setObjectPath(this.data,t,e),n=i.createEvent("datachange",{key:t,oldValue:s,newValue:e}),this.el.dispatchEvent(n))},i.has(this,"render")&&this.around("render",function(t,e){this.unbind(),t.call(this,e),this.bind(),this.update(e)}),this.before("initialize",function(t){this.data=this.data||t.data||{},this.bind(),this.update()})}},{"../utils":12}],4:[function(t,e){var i=t("../utils");e.exports=function(){this.after=function(t,e){var i=this[t];this[t]=function(){i.apply(this,arguments),e.apply(this,arguments)}},this.before=function(t,e){var i=this[t];this[t]=function(){e.apply(this,arguments),i.apply(this,arguments)}},this.around=function(t,e){var n=this[t];n.bind(this),this[t]=i.wrap(n,e)}}},{"../utils":12}],5:[function(t,e){var i=t("../utils");e.exports=function(){this.listenTo=function(t,e,n){n||(n=e,e=t,t=this.el),i.isString(t)&&(t=this.select(t));var s=e.split(":",2),a=s[0],r=s[1]||"_";if(n=i.isString(n)?this[n]:n,this._listeners=this._listeners||{},t){var o;o=t instanceof NodeList?[].slice.call(t):Array.isArray(t)?t:[t],o.forEach(function(e){var s,o=function(i){var n=i.target;if(n===e){var s;if(n===window)s="window";else if(n===document)s="document";else{if("function"!=typeof n.getAttribute)return;s=n.getAttribute("data-sector-eid")}this._listeners[s]&&(this.trace("element removed",e),this.stopListening(t))}},u=function(t){this.trace&&this.trace("<- "+t.target+"."+t.type),n.apply(this,arguments)};s=e===window?"window":e===document?"document":e.getAttribute("data-sector-eid"),s||(s=i.uniqueId("e"),e.setAttribute("data-sector-eid",s)),this._listeners[s]||(this._listeners[s]={},this._listeners[s].DOMNodeRemoved=o.bind(this),e.addEventListener("DOMNodeRemoved",this._listeners[s].DOMNodeRemoved,!1)),this._listeners[s][r]||(this._listeners[s][r]={}),this._listeners[s][r][a]&&(this.trace&&this.trace("<x> "+e+"."+a+":"+r),e.removeEventListener(a,this._listeners[s][r][a],!1)),this._listeners[s][r][a]=u.bind(this),this.trace&&this.trace("<+> "+e+"."+a+":"+r),e.addEventListener(a,this._listeners[s][r][a],!1)},this)}},this.stopListening=function(t,e){if(!e&&i.isString(t)&&(e=t,t=this.el),i.isString(t)&&(t=this.select(t)),t){var n;n=t instanceof NodeList?[].slice.call(t):Array.isArray(t)?t:[t],n.forEach(function(i){var n,s,a;if(n=i===window?"window":i===document?"document":i.getAttribute("data-sector-eid"),this._listeners&&this._listeners[n]){if(e){var r=e.split(":",2),o=r[0]||"*",u=r[1]||"*";if("*"===u)for(s in this._listeners[n])for(a in this._listeners[n][s])a===o&&(this.trace&&this.trace("<x> "+i+"."+a),i.removeEventListener(a,this._listeners[n][s][a]),delete this._listeners[n][s][a]);else{if(e&&!this._listeners[n][u])return;for(a in this._listeners[n][u])("*"===o||a===o)&&(this.trace&&this.trace("<x> "+i+"."+a),i.removeEventListener(a,this._listeners[n][u][a]),delete this._listeners[n][u][a]);0===this._listeners[n][u].length&&delete this._listeners[n][u]}}else for(s in this._listeners[n]){for(a in this._listeners[n][s])this.trace&&this.trace("<x> "+t+"."+a+":"+s),i.removeEventListener(a,this._listeners[n][s][a]),delete this._listeners[n][s][a];delete this._listeners[n][s]}0===this._listeners[n].length&&delete this._listeners[n]}},this)}},this.before("destroy",function(){var t;for(var e in this._listeners)t="window"===e?window:"document"===e?document:document.querySelector("[data-sector-eid="+e+"]"),this.stopListening(t)})}},{"../utils":12}],6:[function(t,e){var i=t("../utils");e.exports=function(){this.publish=function(t,e){this.trace&&this.trace("=>> "+t,e);for(var n="",s=t.split("."),a="pubsub.",r=function(t){document.dispatchEvent(t)},o=0,u=s.length;u>o;o++){n+=a+s[o];var l=i.createEvent(n,{topic:t,data:e});i.defer(r,l),a="."}},this.subscribe=function(t,e){this.trace&&this.trace("<<+>> "+t),e=i.isString(e)?this[e]:e,this.listenTo(document,"pubsub."+t,function(t){this.trace&&this.trace("<<= "+t.detail.topic,t.detail.data),e.call(this,{topic:t.detail.topic,data:t.detail.data})})},this.unsubscribe=function(t){this.trace&&this.trace("<<x>> "+(t||"all")),this.stopListening(document,"pubsub."+t)}}},{"../utils":12}],7:[function(t,e){var i=t("../utils");e.exports=function(){this.defaults=i.defaults({},this.defaults,{debug:!1}),this.trace=function(t,e){this.debug&&console&&console.log(this+" "+t,e)},this.after("initialize",function(t){this.trace("initialized",t)}),this.after("destroy",function(){this.trace("destroyed")})}},{"../utils":12}],8:[function(t,e){var i,n=t("../utils");e.exports=function(){this.defaults=n.defaults({},this.defaults,{validation:null,invalidClassName:"invalid",validityMessages:{required:"Please enter a value for this field",min:"Value must be greater than or equal to {0}",max:"Value must be less than or equal to {0}",step:"Value must be in increments of {0}",range:"Value must be between {0} and {1}",length:"Value must have a length of {0}",minlength:"Value must be at least {0} characters long",maxlength:"Value cannot be more that {0} characters long",rangelength:"Value must be between {0} and {1} characters long",pattern:"Please match the requested format",email:"Please enter a valid email",url:"Please enter a valid URL",numeric:"Value must be numeric",alphanumeric:"Value must contain letters and numbers only",alpha:"Value must contain letters only"}}),this.checkValidity=function(t){var e=!0;if(this.validation){if(t)return this.checkFieldValidity(t,this.validation[t]);for(t in this.validation)e=this.checkFieldValidity(t,this.validation[t])&&e}return e},this.checkFieldValidity=function(t,e){var s,a,r,o,u=!0,l=[];if("@"===t[0]?(r=this.ui[t.substr(1)],Array.isArray(r)||r instanceof NodeList||(r=[r])):r=this.selectAll('[name="'+t+'"]'),e=e||(this.validation?this.validation[t]:{}),0===r.length)return!0;for(var c=function(t,e,s,a){return"custom"===t?n.isFunction(a)?a.call(this,o,s):this[a].call(this,o,s):i[t].call(this,o,s,a)}.bind(this),h=0,f=r.length;f>h;h++)if(o=r[h],n.removeClassName(o,"invalid"),"radio"===o.type)l.push(o),s=o.checked?o.value:null;else for(a in e){if(!c(a,o,o.value,e[a])){u=!1;break}u=!0&&u}if(l.length>0)for(a in e){if(!c(a,l,s,e[a])){u=!1;break}u=!0&&u}return u&&this.setValidity(r,!0),u},this.setValidity=function(t,e,i,s){var a,r,o,u;"@"===name[0]?(a=this.ui[name.substr(1)],Array.isArray(a)||a instanceof NodeList||(a=[a])):a=n.isString(t)?[].slice.call(this.selectAll('[name="'+t+'"]')):n.isElement(t)?[t]:n.isArray(t)?t:[].slice.call(t);for(var l=0,c=a.length;c>l;l++)r=a[l],e===!0?(n.removeClassName(r,"invalid"),n.addClassName(r,"valid"),o=n.createEvent("valid"),u=!0):(n.addClassName(r,"invalid"),o=n.createEvent("invalid",{message:e,rule:i,options:s}),u=!1),r.dispatchEvent(o);return u},this.formatValidityMessage=function(t,e){return e=n.isArray(e)?e:[e],t.replace(/{{([0-9]+)}}/g,function(t,i){return e[i]})}},i={required:function(t,e,i){var s=n.has(i,"message")?i.message:this.validityMessages.required;return i&&("undefined"==typeof e||null===e||n.isEmpty(e))?this.setValidity(t,s,"required"):!0},min:function(t,e,i){"object"!=typeof i&&(i={min:i});var s=n.has(i,"message")?i.message:this.validityMessages.min;return"undefined"!=typeof e&&null!==e&&!n.isEmpty(e)&&e<i.min?this.setValidity(t,this.formatValidityMessage(s,i.min),"min"):!0},max:function(t,e,i){"object"!=typeof i&&(i={max:i});var s=n.has(i,"message")?i.message:this.validityMessages.max;return"undefined"!=typeof e&&null!==e&&!n.isEmpty(e)&&e>i.max?this.setValidity(t,this.formatValidityMessage(s,i.max),"max"):!0},step:function(t,e,i){"object"!=typeof i&&(i={step:i});var s=n.has(i,"message")?i.message:this.validityMessages.step;return"undefined"==typeof e||null===e||n.isEmpty(e)||e%i.step===0?!0:this.setValidity(t,this.formatValidityMessage(s,i.step),"range")},range:function(t,e,i){n.isArray(i)&&(i={min:i[0],max:i[1]});var s=n.has(i,"message")?i.message:this.validityMessages.range;return"undefined"!=typeof e&&null!==e&&!n.isEmpty(e)&&(e<i.min||e>i.max)?this.setValidity(t,this.formatValidityMessage(s,[i.min,i.max]),"range"):!0},length:function(t,e,i){"object"!=typeof i&&(i={length:i});var s=n.has(i,"message")?i.message:this.validityMessages.length;return"undefined"==typeof e||null===e||n.isEmpty(e)||e.length===i.length?!0:this.setValidity(t,this.formatValidityMessage(s,i.length),"length")},minlength:function(t,e,i){"object"!=typeof i&&(i={minlength:i});var s=n.has(i,"message")?i.message:this.validityMessages.minlength;return"undefined"!=typeof e&&null!==e&&!n.isEmpty(e)&&e.length<i.minlength?this.setValidity(t,this.formatValidityMessage(s,i.minlength),"minlength"):!0},maxlength:function(t,e,i){"object"!=typeof i&&(i={maxlength:i});var s=n.has(i,"message")?i.message:this.validityMessages.maxlength;return"undefined"!=typeof e&&null!==e&&!n.isEmpty(e)&&e.length>i.maxlength?this.setValidity(t,this.formatValidityMessage(s,i.maxlength),"maxlength"):!0},rangelength:function(t,e,i){n.isArray(i)&&(i={min:i[0],max:i[1]});var s=n.has(i,"message")?i.message:this.validityMessages.rangelength;return"undefined"!=typeof e&&null!==e&&!n.isEmpty(e)&&(e.length<i.min||e.length>i.max)?this.setValidity(t,this.formatValidityMessage(s,[i.min,i.max]),"rangelength"):!0},pattern:function(t,e,i){n.isString(i)?i={pattern:new RegExp(i)}:i instanceof RegExp&&(i={pattern:i}),i.pattern=i.pattern instanceof RegExp?i.pattern:new RegExp(i.pattern);var s=n.has(i,"message")?i.message:this.validityMessages.pattern;return"undefined"==typeof e||null===e||n.isEmpty(e)||i.pattern.test(e)?!0:this.setValidity(t,this.formatValidityMessage(s),"pattern")},url:function(t,e,i){"object"!=typeof i&&(i={schemes:["http","https","ftp"],requireTld:!0,requireScheme:!1});var s=n.has(i,"message")?i.message:this.validityMessages.url,a=new RegExp("^(?!mailto:)(?:(?:"+i.schemes.join("|")+")://)"+(i.requireScheme?"":"?")+"(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))"+(i.requireTld?"":"?")+")|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i");return"undefined"==typeof e||null===e||n.isEmpty(e)||!(e.length>2083)&&a.test(e)?!0:this.setValidity(t,this.formatValidityMessage(s),"url")},email:function(t,e,i){var s=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i;"object"!=typeof i&&(i={});var a=n.has(i,"message")?i.message:this.validityMessages.email;return"undefined"==typeof e||null===e||n.isEmpty(e)||s.test(e)?!0:this.setValidity(t,this.formatValidityMessage(a),"email")},numeric:function(t,e,i){var s=/^-?[0-9]+$/;"object"!=typeof i&&(i={});var a=n.has(i,"message")?i.message:this.validityMessages.numeric;return"undefined"==typeof e||null===e||n.isEmpty(e)||s.test(e)?!0:this.setValidity(t,this.formatValidityMessage(a),"numeric")},alphanumeric:function(t,e,i){var s=/^[a-zA-Z0-9]+$/;"object"!=typeof i&&(i={});var a=n.has(i,"message")?i.message:this.validityMessages.alphanumeric;return"undefined"==typeof e||null===e||n.isEmpty(e)||s.test(e)?!0:this.setValidity(t,this.formatValidityMessage(a),"alphanumeric")},alpha:function(t,e,i){var s=/^[a-zA-Z]+$/;"object"!=typeof i&&(i={});var a=n.has(i,"message")?i.message:this.validityMessages.alpha;return"undefined"==typeof e||null===e||n.isEmpty(e)||s.test(e)?!0:this.setValidity(t,this.formatValidityMessage(a),"alpha")}}},{"../utils":12}],9:[function(t,e){var i=t("../utils"),n=function(){var t={};this.setupUI=function(){if(this.ui){this._ui||(this._ui=this.ui);var t=i.result(this,"_ui");this.ui={},i.forIn(t,function(t,e){i.isString(t)&&(t={selector:t,all:!1}),this.ui[e]=t.all?this.selectAll(t.selector):this.select(t.selector)},this)}},this.teardownUI=function(){if(this.ui){this._ui||(this._ui=this.ui);var t=i.result(this,"_ui");i.forIn(t,function(t,e){delete this.ui[e]},this)}},this.setupEvents=function(){this.events&&i.forIn(this.events,function(t,e){var i,n,s,a=e.indexOf(" ");a>=0?(s=e.substr(0,e.indexOf(" ")),i=e.substr(e.indexOf(" ")+1),n="@"===i[0]?this.ui[i.substr(1)]:this.selectAll(i)):(n=this.el,s=e),this.listenTo(n,s,t)},this)},this.teardownEvents=function(){this.events&&i.forIn(this.events,function(t,e){var i,n,s,a=e.indexOf(" ");a>=0?(s=e.substr(0,e.indexOf(" ")),i=e.substr(e.indexOf(" ")+1),n="@"===i[0]?this.ui[i.substr(1)]:this.selectAll(i)):(n=this.el,s=e),this.stopListening(n,s)},this)},i.has(this,"render")||(this.render=function(e){var n,s="",a="";if(this.template){if(this._isRendered&&(this.teardownEvents(),this.teardownUI()),i.isFunction(this.template))s=this.template(e);else{if(i.has(t,this.template))a=t[this.template];else{if(n=document.querySelector(this.template),!n)throw Error("template "+this.template+" not found");a=n.innerHTML,t[this.template]=a}s=i.template(a,e||{})}this.el.innerHTML=s,this.setupUI(),this.setupEvents(),this._isRendered=!0}}),this.remove=function(){this.el.parentNode.removeChild(this.el)},this.before("initialize",function(){this.el.children.length>0&&(this.setupUI(),this.setupEvents())})};e.exports=n},{"../utils":12}],10:[function(t,e){var i=t("./utils"),n=function(){this.components={},this.instances={},this.instancesAll={}};n.prototype.addComponent=function(t){var e=t.prototype.type;this.components[e]=t},n.prototype.addInstance=function(t){if(this.instancesAll[t.id])throw new Error("an instance with id "+t.id+" already exists");this.instancesAll[t.id]=t,this.instances[t.type]=this.instances[t.type]||{},this.instances[t.type][t.id]=t},n.prototype.findComponent=function(t){return this.components[t]||null},n.prototype.findInstance=function(t){return this.instancesAll[t]||null},n.prototype.findInstancesOf=function(t){var e=i.isString(t)?t:t.type;return i.values(this.instances[e])||null},n.prototype.removeComponent=function(t){var e=i.isString(t)?t:t.type;delete this.components[e]},n.prototype.removeInstance=function(t){var e=i.isString(t)?t:t.id;t=this.instancesAll[e],t.destroy(),delete this.instancesAll[e],delete this.instances[t.type][e]},n.prototype.removeInstancesOf=function(t){var e=i.isString(t)?t:t.type,n=this.instances[e];for(var s in n)this.instancesAll[s].destroy(),delete this.instancesAll[s];delete this.instances[e]},e.exports=new n},{"./utils":12}],11:[function(t,e,i){"undefined"!=typeof _&&(i.omit=_.omit,i.pick=_.pick,i.has=_.has,i.defaults=_.defaults,i.clone=_.clone,i.isEmpty=_.isEmpty,i.isString=_.isString,i.isArray=_.isArray,i.isFunction=_.isFunction,i.isElement=_.isElement,i.forIn=_.forIn,i.values=_.values,i.create=_.create,i.result=_.result,i.uniqueId=_.uniqueId,i.noop=_.noop,i.template=_.template,i.wrap=_.wrap,i.bind=_.bind,i.bindAll=_.bindAll,i.defer=_.defer,i.forEach=_.forEach,i.map=_.map)},{}],12:[function(t,e,i){i.extend=t("lodash-node/modern/objects/assign"),i.extend(i,t("./utils-ext-global")),i.extend(i,t("./utils-ext-require")),i.define=function(t){var e,n=[],s=this;if(e=t&&i.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},e.prototype=i.create(s.prototype,t),i.extend(e,s),i.bindAll(e),arguments.length>1){n=new Array(arguments.length-1);for(var a=1,r=n.length;r>=a;a++)n[a-1]=arguments[a]}return i.mixin.call(e.prototype,n),e},i.mixin=function(t){t&&(this._mixins=i.has(this,"_mixins")?this._mixins:[],i.forEach(t,function(t){-1===this._mixins.indexOf(t)&&(t.call(this),this._mixins.push(t))},this))},i.documentReady=function(t){"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?t():document.addEventListener("DOMContentLoaded",t)},i.selectAll=function(t,e){return e=e||document,e.querySelectorAll(t)},i.select=function(t,e){return e=e||document,e.querySelector(t)},i.matches=function(t,e){var i=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector;if(i)return i.call(t,e);for(var n=t.parentNode.querySelectorAll(e),s=n.length;s--;)if(n[s]===t)return!0;return!1},i.addClassName=function(t,e){for(var i,n=e.split(" "),s=0,a=n.length;a>s;s++)i=new RegExp("(^|\\s)"+n[s]+"(\\s|$)"),i.test(t.className)||(t.className=(t.className+" "+n[s]).trim())},i.removeClassName=function(t,e){for(var i,n=e.split(" "),s=0,a=n.length;a>s;s++)i=new RegExp("(^|\\s)"+n[s]+"(\\s|$)"),t.className=t.className.replace(i," ").trim()},i.toggleClassName=function(t,e){for(var i,n=e.split(" "),s=0,a=n.length;a>s;s++)i=new RegExp("(^|\\s)"+n[s]+"(\\s|$)"),t.className=i.test(t.className)?t.className.replace(i," ").trim():(t.className+" "+n[s]).trim()},i.createEvent=function(t,e,i){var n;return i=i||{bubbles:!1,cancelable:!1},"function"==typeof CustomEvent?n=new CustomEvent(t,{detail:e,bubbles:i.bubbles,cancelable:i.cancelable}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,i.bubbles,i.cancelable,e)),n},i.getObjectPath=function(t,e){var n=e.split(".");return n.reduce(function(t,e){return t&&i.has(t,e)?t[e]:void 0},t)},i.setObjectPath=function(t,e,n){for(var s=t,a=e.split("."),r=0,o=a.length;o>r;r++)o-1>r?(i.has(s,a[r])||(s[a[r]]={}),s=s[a[r]]):s[a[r]]=n},i.buildHtml=function(t,e){e=e||{};var n=function(t,s,a){var r,o,u,l;if("@"===s)i.forIn(a,function(i,n){t.setAttribute(n,i.toString()),e.attribute&&e.attribute(t,n)});else if("text"===s)r=document.createTextNode(a.toString());else if("html"===s)t.innerHTML=a.toString();else{var c=s.match(/^([a-z][\w0-9-]*)?(?:#([a-z][\w0-9-]*))?((?:\.([a-z][\w0-9-]*))+)?$/i);o=c[1]||"div",u=c[2]||null,l=c[3]?c[3].replace(/\./g," ").trim():null,r=document.createElement(o),u&&(r.id=u),l&&(r.className=l),i.isString(a)?r.textContent=a:i.forIn(a,function(t,e){n(r,e,t)})}r&&(e.element&&e.element(r),t.appendChild(r))},s=document.createDocumentFragment();return i.forIn(t,function(t,e){n(s,e,t)},this),s};var n=0;i.requestAnimationFrame=i.bind(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window),i.requestAnimationFrame||(i.requestAnimationFrame=i.bind(function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-n)),s=window.setTimeout(function(){t(e+i)},i);return n=e+i,s},window)),i.cancelAnimationFrame=i.bind(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame,window),i.cancelAnimationFrame||(i.cancelAnimationFrame=i.bind(function(t){clearTimeout(t)},window)),i.easing={linear:function(t,e,i,n){return i*(t/=n)+e},easeIn:function(t,e,i,n){return t/=n,i*t*t+e},easeOut:function(t,e,i,n){return t/=n,-i*t*(t-2)+e},easeInOut:function(t,e,i,n){return t/=n/2,1>t?i/2*t*t+e:(t--,-i/2*(t*(t-2)-1)+e)}},i.animate=function(t,e,n,s){n=n||{},i.defaults(n,{duration:1e3,step:i.noop,easing:i.easing.linear,complete:i.noop}),i.isString(n.easing)&&(n.easing=i.easing[n.easing]),t=parseFloat(t),e=parseFloat(e);var a=e-t,r=+new Date,o=function(){var u=+new Date,l=u-r,c=Math.min(1,l/n.duration),h=n.easing(l,t,a,n.duration);1>c?n.step.call(s,c,h)!==!1&&i.requestAnimationFrame(o):(n.step.call(s,1,e),n.complete.call(s,1,e))};o()}},{"./utils-ext-global":11,"lodash-node/modern/objects/assign":24}],13:[function(t,e){function i(t,e){return arguments.length>2?n(t,17,s(arguments,2),null,e):n(t,1,null,null,e)}var n=t("../internals/createWrapper"),s=t("../internals/slice");e.exports=i},{"../internals/createWrapper":18,"../internals/slice":23}],14:[function(t,e){function i(t){function e(){if(o){var t=r(o);u.apply(t,arguments)}if(this instanceof e){var a=n(i.prototype),c=i.apply(a,t||arguments);return s(c)?c:a}return i.apply(l,t||arguments)}var i=t[0],o=t[2],l=t[4];return a(e,t),e}var n=t("./baseCreate"),s=t("../objects/isObject"),a=t("./setBindData"),r=t("./slice"),o=[],u=o.push;e.exports=i},{"../objects/isObject":26,"./baseCreate":15,"./setBindData":21,"./slice":23}],15:[function(t,e){(function(i){function n(t){return a(t)?r(t):{}}var s=t("./isNative"),a=t("../objects/isObject"),r=(t("../utilities/noop"),s(r=Object.create)&&r);r||(n=function(){function t(){}return function(e){if(a(e)){t.prototype=e;var n=new t;t.prototype=null}return n||i.Object()}}()),e.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../objects/isObject":26,"../utilities/noop":30,"./isNative":19}],16:[function(t,e){function i(t,e,i){if("function"!=typeof t)return s;if("undefined"==typeof e||!("prototype"in t))return t;var c=t.__bindData__;if("undefined"==typeof c&&(r.funcNames&&(c=!t.name),c=c||!r.funcDecomp,!c)){var h=l.call(t);r.funcNames||(c=!o.test(h)),c||(c=u.test(h),a(t,c))}if(c===!1||c!==!0&&1&c[1])return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,s){return t.call(e,i,n,s)};case 4:return function(i,n,s,a){return t.call(e,i,n,s,a)}}return n(t,e)}var n=t("../functions/bind"),s=t("../utilities/identity"),a=t("./setBindData"),r=t("../support"),o=/^\s*function[ \n\r\t]+\w/,u=/\bthis\b/,l=Function.prototype.toString;e.exports=i},{"../functions/bind":13,"../support":28,"../utilities/identity":29,"./setBindData":21}],17:[function(t,e){function i(t){function e(){var t=p?f:this;if(c){var a=r(c);u.apply(a,arguments)}if((h||g)&&(a||(a=r(arguments)),h&&u.apply(a,h),g&&a.length<d))return l|=16,i([o,y?l:-4&l,a,null,f,d]);if(a||(a=arguments),m&&(o=t[v]),this instanceof e){t=n(o.prototype);var b=o.apply(t,a);return s(b)?b:t}return o.apply(t,a)}var o=t[0],l=t[1],c=t[2],h=t[3],f=t[4],d=t[5],p=1&l,m=2&l,g=4&l,y=8&l,v=o;return a(e,t),e}var n=t("./baseCreate"),s=t("../objects/isObject"),a=t("./setBindData"),r=t("./slice"),o=[],u=o.push;e.exports=i},{"../objects/isObject":26,"./baseCreate":15,"./setBindData":21,"./slice":23}],18:[function(t,e){function i(t,e,o,c,h,f){var d=1&e,p=2&e,m=4&e,g=16&e,y=32&e;if(!p&&!a(t))throw new TypeError;g&&!o.length&&(e&=-17,g=o=!1),y&&!c.length&&(e&=-33,y=c=!1);var v=t&&t.__bindData__;if(v&&v!==!0)return v=r(v),v[2]&&(v[2]=r(v[2])),v[3]&&(v[3]=r(v[3])),!d||1&v[1]||(v[4]=h),!d&&1&v[1]&&(e|=8),!m||4&v[1]||(v[5]=f),g&&u.apply(v[2]||(v[2]=[]),o),y&&l.apply(v[3]||(v[3]=[]),c),v[1]|=e,i.apply(null,v);var b=1==e||17===e?n:s;return b([t,e,o,c,h,f])}var n=t("./baseBind"),s=t("./baseCreateWrapper"),a=t("../objects/isFunction"),r=t("./slice"),o=[],u=o.push,l=o.unshift;e.exports=i},{"../objects/isFunction":25,"./baseBind":14,"./baseCreateWrapper":17,"./slice":23}],19:[function(t,e){function i(t){return"function"==typeof t&&a.test(t)}var n=Object.prototype,s=n.toString,a=RegExp("^"+String(s).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");e.exports=i},{}],20:[function(t,e){var i={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};e.exports=i},{}],21:[function(t,e){var i=t("./isNative"),n=t("../utilities/noop"),s={configurable:!1,enumerable:!1,value:null,writable:!1},a=function(){try{var t={},e=i(e=Object.defineProperty)&&e,n=e(t,t,t)&&e}catch(s){}return n}(),r=a?function(t,e){s.value=e,a(t,"__bindData__",s)}:n;e.exports=r},{"../utilities/noop":30,"./isNative":19}],22:[function(t,e){var i=t("./objectTypes"),n=Object.prototype,s=n.hasOwnProperty,a=function(t){var e,n=t,a=[];if(!n)return a;if(!i[typeof t])return a;for(e in n)s.call(n,e)&&a.push(e);return a};e.exports=a},{"./objectTypes":20}],23:[function(t,e){function i(t,e,i){e||(e=0),"undefined"==typeof i&&(i=t?t.length:0);for(var n=-1,s=i-e||0,a=Array(0>s?0:s);++n<s;)a[n]=t[e+n];return a}e.exports=i},{}],24:[function(t,e){var i=t("../internals/baseCreateCallback"),n=t("./keys"),s=t("../internals/objectTypes"),a=function(t,e,a){var r,o=t,u=o;if(!o)return u;var l=arguments,c=0,h="number"==typeof a?2:l.length;if(h>3&&"function"==typeof l[h-2])var f=i(l[--h-1],l[h--],2);else h>2&&"function"==typeof l[h-1]&&(f=l[--h]);for(;++c<h;)if(o=l[c],o&&s[typeof o])for(var d=-1,p=s[typeof o]&&n(o),m=p?p.length:0;++d<m;)r=p[d],u[r]=f?f(u[r],o[r]):o[r];return u};e.exports=a},{"../internals/baseCreateCallback":16,"../internals/objectTypes":20,"./keys":27}],25:[function(t,e){function i(t){return"function"==typeof t}e.exports=i},{}],26:[function(t,e){function i(t){return!(!t||!n[typeof t])}var n=t("../internals/objectTypes");e.exports=i},{"../internals/objectTypes":20}],27:[function(t,e){var i=t("../internals/isNative"),n=t("./isObject"),s=t("../internals/shimKeys"),a=i(a=Object.keys)&&a,r=a?function(t){return n(t)?a(t):[]}:s;e.exports=r},{"../internals/isNative":19,"../internals/shimKeys":22,"./isObject":26}],28:[function(t,e){(function(i){var n=t("./internals/isNative"),s=/\bthis\b/,a={};
a.funcDecomp=!n(i.WinRTError)&&s.test(function(){return this}),a.funcNames="string"==typeof Function.name,e.exports=a}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./internals/isNative":19}],29:[function(t,e){function i(t){return t}e.exports=i},{}],30:[function(t,e){function i(){}e.exports=i},{}]},{},[2])(2)});