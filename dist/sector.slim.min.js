/** sector v0.1.15 | (c) 2014 Adam Daniel <adam@acdaniel.com> | MIT license */
!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.sector=t()}}(function(){return function t(e,i,n){function s(r,o){if(!i[r]){if(!e[r]){var u="function"==typeof require&&require;if(!o&&u)return u(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+r+"'")}var l=i[r]={exports:{}};e[r][0].call(l.exports,function(t){var i=e[r][1][t];return s(i?i:t)},l,l.exports,t,e,i,n)}return i[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t,e){var i=t("./utils"),n=t("./registry"),s=t("./mixins/hooked"),a=t("./mixins/traceable"),r=t("./mixins/listener"),o=t("./mixins/pubsub"),u=function(t){var e=this,s=i.omit(t,"el"),a=i.pick(t,"el"),r=i.result(this,"defaults"),o=i.pick(s,function(t,e){return i.has(r,e)||"id"===e});i.defaults(this,o,r),this.id||(this.id=i.uniqueId("i")),i.has(a,"el")&&(this.el=i.isString(a.el)?i.select(a.el,!0):a.el,this.el.id=this.id,this.el.addEventListener("DOMNodeRemoved",function(t){t.target===e.el&&(e.el.removeEventListener("DOMNodeRemoved",this),e.destroy())},!1),this.after("destroy",function(){this.el=void 0})),n.addInstance(this),this.initialize.call(this,s)};u.prototype.select=function(t,e){return i.select(this.el,t,e)},u.prototype.toString=function(){return"["+this.type+" "+this.id+"]"},u.prototype.defaults=null,u.prototype.initialize=i.noop,u.prototype.destroy=i.noop,u.define=function(t){var e,u;return t.type||(t.type=i.uniqueId("c")),e=Array.prototype.slice.call(arguments,1),e.unshift(t,s,a,r,o),u=i.define.apply(this,e),n.addComponent(u),u},u.attachTo=function(t,e){var n,s,a=this;e=e||{},s=i.isString(t)?i.select(t):[t];for(var r=0,o=s.length;o>r;r++)e.el=s[r],e.id=e.id||s[r].id,n=new a(e)},u.destroyAll=function(){for(var t=n.findInstancesOf(this.prototype.type),e=0,i=t.length;i>e;e++)t[e].destroy(),n.removeInstance(t[e])},e.exports=u},{"./mixins/hooked":4,"./mixins/listener":5,"./mixins/pubsub":6,"./mixins/traceable":7,"./registry":10,"./utils":12}],2:[function(t,e,i){i.Component=t("./component"),i.init=function(t,e,n){var s=arguments.length;1!==s||i.isFunction(arguments[0])||(e=arguments[0],t=null),n=n||window.document,e=e||{},i.defaults(e,{publishProgress:!1,ignoreNotFound:!1,componentSelector:"[data-component]",componentAttribute:"data-component",optionsAttribute:"data-attrs",optionsAttrPrefix:"data-attr-",readyTopic:"ui.ready",initializingTopic:"ui.initializing"});var a=function(t,e){var n=i.createEvent("pubsub."+t,{topic:t,data:e});window.document.dispatchEvent(n)};i.documentReady(function(){function s(t){function e(){s>=a||(t(n[s],s++),i.defer(e))}var n=this,s=0,a=this.length;e()}t&&t();var r=[].slice.call(n.querySelectorAll(e.componentSelector)),o=r.length,u=e.publishProgress?s:Array.prototype.forEach;u.call(r,function(t,s){e.publishProgress&&a(e.initializingTopic,{componentCount:o,progress:100*((s+1)/o)});var r,u,l,c,h,d={};if(l=t.getAttribute(e.componentAttribute),d.id=t.id,t.hasAttribute(e.optionsAttribute)?d=JSON.parse(t.getAttribute(e.optionsAttribute)):(u=[].slice.call(t.attributes),h=e.optionsAttrPrefix.length,u.forEach(function(t){t.name.substr(0,h)===e.optionsAttrPrefix&&(d[t.name.substr(h)]=t.value)})),r="script"===t.tagName.toLowerCase()?n:t,c=i.registry.findComponent(l))c.attachTo(r,d);else if(!e.ignoreNotFound)throw new Error("component "+l+" not found")}),a(e.readyTopic,{})})},i.mixins={Hooked:t("./mixins/hooked"),Traceable:t("./mixins/traceable"),Listener:t("./mixins/listener"),PubSub:t("./mixins/pubsub"),View:t("./mixins/view"),Bound:t("./mixins/bound"),Validator:t("./mixins/validator")},i.components={},i.ext={},i.registry=t("./registry");var n=t("lodash-node/modern/objects/assign");n(i,t("./utils"))},{"./component":1,"./mixins/bound":3,"./mixins/hooked":4,"./mixins/listener":5,"./mixins/pubsub":6,"./mixins/traceable":7,"./mixins/validator":8,"./mixins/view":9,"./registry":10,"./utils":12,"lodash-node/modern/objects/assign":24}],3:[function(t,e){var i=t("../utils");e.exports=function(){this.defaults=i.defaults({},this.defaults,{data:null,binding:null}),this.update=function(t){t&&(this.data=t);var e=i.bind(function(t,i){var n;for(var s in t){n=t[s];var a=i?i+"."+s:s;"object"==typeof n?e(n,a):this.setDOMValue(a,n)}},this);e(this.data,"")},this.set=function(t,e){this.setDataValue(t,e),this.setDOMValue(t,e)},this.get=function(t){return i.getObjectPath(this.data,t)},this.bind=function(){this.binding&&(this._pathBinding=this._pathBinding||{},i.forIn(this.binding,function(t,e){i.isString(t)&&(t={path:t});var n,s=t.path,a=t.events||["change"];n="$"===e?[this.el]:this.ui&&i.has(this.ui,e)?[this.ui[e]]:[].slice.call(this.select(e)),n.forEach(i.bind(function(t){("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName)&&i.forIn(a,function(e){this.listenTo(t,e+":bound",function(t){var e,i=t.target;"checkbox"===i.type.toLowerCase()||"radio"===i.type.toLowerCase()?(e="undefined"==typeof i.value?!0:i.value,e=i.checked?e:void 0):e=i.value,this.set(s,e)})},this)},this)),t.selector=e,this._pathBinding[s]=this._pathBinding[s]||[],this._pathBinding[s].push(t)},this),this._isBound=!0)},this.unbind=function(){this.binding&&this._isBound&&(this._pathBinding={},i.forIn(this.binding,function(t,e){i.isString(t)&&(t={path:t});var n,s=t.events||["change"];n="$"===e?[this.el]:this.ui&&i.has(this.ui,e)?[this.ui[e]]:[].slice.call(this.select(e)),n.forEach(i.bind(function(t){("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName)&&i.forIn(s,function(e){this.stopListening(t,e+":bound")},this)},this))},this))},this.setDOMValue=function(t,e){var n;i.has(this._pathBinding,t)&&i.forIn(this._pathBinding[t],function(t){n="$"===t.selector?[this.el]:this.ui&&i.has(this.ui,t.selector)?[this.ui[t.selector]]:[].slice.call(this.select(t.selector)),t.format&&(i.isString(t.format)&&(t.format=this[t.format]),e=t.format.call(this,e)),n.forEach(function(n){t.property?i.setObjectPath(n,t.property,e):t.attribute?n.setAttribute(t.attribute,e.toString()):t.html?n.innerHTML=e.toString():"INPUT"===n.tagName||"SELECT"===n.tagName||"TEXTAREA"===n.tagName?"checkbox"===n.type.toLowerCase()?n.checked=e===!0||1===e||"true"===e:"radio"===n.type.toLowerCase()?n.checked=n.value===e.toString():n.value=e.toString():n.textContent=e.toString()})},this)},this.setDataValue=function(t,e){i.setObjectPath(this.data,t,e)},i.has(this,"render")&&this.around("render",function(t,e){this.unbind(),t.call(this,e),this.bind(),this.update(e)}),this.before("initialize",function(t){this.data=this.data||t.data||{},this.bind(),this.update()})}},{"../utils":12}],4:[function(t,e){var i=t("../utils");e.exports=function(){this.after=function(t,e){var i=this[t];this[t]=function(){i.apply(this,arguments),e.apply(this,arguments)}},this.before=function(t,e){var i=this[t];this[t]=function(){e.apply(this,arguments),i.apply(this,arguments)}},this.around=function(t,e){var n=this[t];i.bind(n,this),this[t]=i.wrap(n,e)}}},{"../utils":12}],5:[function(t,e){var i=t("../utils");e.exports=function(){this.listenTo=function(t,e,n){n||(n=e,e=t,t=this.el),i.isString(t)&&(t=this.select(t));var s=e.split(":",2),a=s[0],r=s[1]||"_";n=i.isString(n)?this[n]:n,this._listeners=this._listeners||{};var o=function(e){var i=e.target;if(i===t){var n;if(i===window)n="window";else if(i===window.document)n="document";else{if("function"!=typeof i.getAttribute)return;n=i.getAttribute("data-sector-eid")}this._listeners[n]&&(this.trace("element removed",t),this.stopListening(t))}},u=function(t){this.trace&&this.trace("<- "+t.target+"."+t.type),n.apply(this,arguments)};if(t){var l;l=t===window?"window":t===window.document?"document":t.getAttribute("data-sector-eid"),l||(l=i.uniqueId("e"),t.setAttribute("data-sector-eid",l)),this._listeners[l]||(this._listeners[l]={},this._listeners[l].DOMNodeRemoved=i.bind(o,this),t.addEventListener("DOMNodeRemoved",this._listeners[l].DOMNodeRemoved,!1)),this._listeners[l][r]||(this._listeners[l][r]={}),this._listeners[l][r][a]&&(this.trace&&this.trace("<x> "+t+"."+a+":"+r),t.removeEventListener(a,this._listeners[l][r][a],!1)),this._listeners[l][r][a]=i.bind(u,this),this.trace&&this.trace("<+> "+t+"."+a+":"+r),t.addEventListener(a,this._listeners[l][r][a],!1)}},this.stopListening=function(t,e){if(!e&&i.isString(t)&&(e=t,t=this.el),i.isString(t)&&(t=this.select(t)),t){var n,s,a;if(n=t===window?"window":t===window.document?"document":t.getAttribute("data-sector-eid"),this._listeners&&this._listeners[n]){if(e){var r=e.split(":",2),o=r[0]||"*",u=r[1]||"*";if("*"===u)for(s in this._listeners[n])for(a in this._listeners[n][s])a===o&&(this.trace&&this.trace("<x> "+t+"."+a),t.removeEventListener(a,this._listeners[n][s][a]),delete this._listeners[n][s][a]);else{if(e&&!this._listeners[n][u])return;for(a in this._listeners[n][u])("*"===o||a===o)&&(this.trace&&this.trace("<x> "+t+"."+a),t.removeEventListener(a,this._listeners[n][u][a]),delete this._listeners[n][u][a]);0===this._listeners[n][u].length&&delete this._listeners[n][u]}}else for(s in this._listeners[n]){for(a in this._listeners[n][s])this.trace&&this.trace("<x> "+t+"."+a+":"+s),t.removeEventListener(a,this._listeners[n][s][a]),delete this._listeners[n][s][a];delete this._listeners[n][s]}0===this._listeners[n].length&&delete this._listeners[n]}}},this.before("destroy",function(){var t;for(var e in this._listeners)t="window"===e?window:"document"===e?window.document:window.document.querySelector("[data-sector-eid="+e+"]"),this.stopListening(t)})}},{"../utils":12}],6:[function(t,e){var i=t("../utils");e.exports=function(){this.publish=function(t,e){this.trace&&this.trace("=>> "+t,e);for(var n="",s=t.split("."),a="pubsub.",r=function(t){window.document.dispatchEvent(t)},o=0,u=s.length;u>o;o++){n+=a+s[o];var l=i.createEvent(n,{topic:t,data:e});i.defer(r,l),a="."}},this.subscribe=function(t,e){this.trace&&this.trace("<<+>> "+t),e=i.isString(e)?this[e]:e,this.listenTo(window.document,"pubsub."+t,function(t){this.trace&&this.trace("<<= "+t.detail.topic,t.detail.data),e.call(this,{topic:t.detail.topic,data:t.detail.data})})},this.unsubscribe=function(t){this.trace&&this.trace("<<x>> "+(t||"all")),this.stopListening(window.document,"pubsub."+t)}}},{"../utils":12}],7:[function(t,e){var i=t("../utils");e.exports=function(){console&&(this.defaults=i.defaults({},this.defaults,{debug:!1}),this.trace=function(t,e){this.debug&&console.log(this+" "+t,e)},this.after("initialize",function(t){this.trace("initialized",t)}),this.after("destroy",function(){this.trace("destroyed")}))}},{"../utils":12}],8:[function(t,e){var i=t("../utils");e.exports=function(){this.defaults=i.defaults({},this.defaults,{validation:null,invalidClassName:"invalid",validityMessages:{required:"Please enter a value for this field",min:"Value must be greater than or equal to {0}",max:"Value must be less than or equal to {0}",step:"Value must be in increments of {0}",range:"Value must be between {0} and {1}",length:"Value must have a length of {0}",minlength:"Value must be at least {0} characters long",maxlength:"Value cannot be more that {0} characters long",rangelength:"Value must be between {0} and {1} characters long",pattern:"Please match the requested format",email:"Please enter a valid email",url:"Please enter a valid URL",numeric:"Value must be numeric",alphanumeric:"Value must contain letters and numbers only",alpha:"Value must contain letters only"}}),this.checkValidity=function(t){var e=!0;if(this.validation){if(t)return this.checkFieldValidity(t,this.validation[t]);for(t in this.validation)e=this.checkFieldValidity(t,this.validation[t])&&e}return e},this.checkFieldValidity=function(t,e){var s,a,r,o=!0,u=[],l=this.ui&&i.has(this.ui,t)?[this.ui[t]]:this.select('[name="'+t+'"]');if(e=e||(this.validation?this.validation[t]:{}),0===l.length)return!0;for(var c=i.bind(function(t,e,s,a){return"custom"===t?i.isFunction(a)?a.call(this,r,s):this[a].call(this,r,s):n[t].call(this,r,s,a)},this),h=0,d=l.length;d>h;h++)if(r=l[h],i.removeClassName(r,"invalid"),"radio"===r.type)u.push(r),s=r.checked?r.value:null;else for(a in e){if(!c(a,r,r.value,e[a])){o=!1;break}o=!0&&o}if(u.length>0)for(a in e){if(!c(a,u,s,e[a])){o=!1;break}o=!0&&o}return o&&this.setValidity(l,!0),o},this.setValidity=function(t,e,n,s){var a,r,o,u;a=this.ui&&i.has(this.ui,t)?[this.ui[t]]:i.isString(t)?[].slice.call(this.select('[name="'+t+'"]')):i.isElement(t)?[t]:i.isArray(t)?t:[].slice.call(t);for(var l=0,c=a.length;c>l;l++)r=a[l],e===!0?(i.removeClassName(r,"invalid"),i.addClassName(r,"valid"),o=i.createEvent("valid"),u=!0):(i.addClassName(r,"invalid"),o=i.createEvent("invalid",{message:e,rule:n,options:s}),u=!1),r.dispatchEvent(o);return u},this.formatValidityMessage=function(t,e){return e=i.isArray(e)?e:[e],t.replace(/{{([0-9]+)}}/g,function(t,i){return e[i]})}};var n={required:function(t,e,n){var s=i.has(n,"message")?n.message:this.validityMessages.required;return n&&("undefined"==typeof e||null===e||i.isEmpty(e))?this.setValidity(t,s,"required"):!0},min:function(t,e,n){"object"!=typeof n&&(n={min:n});var s=i.has(n,"message")?n.message:this.validityMessages.min;return"undefined"!=typeof e&&null!==e&&!i.isEmpty(e)&&e<n.min?this.setValidity(t,this.formatValidityMessage(s,n.min),"min"):!0},max:function(t,e,n){"object"!=typeof n&&(n={max:n});var s=i.has(n,"message")?n.message:this.validityMessages.max;return"undefined"!=typeof e&&null!==e&&!i.isEmpty(e)&&e>n.max?this.setValidity(t,this.formatValidityMessage(s,n.max),"max"):!0},step:function(t,e,n){"object"!=typeof n&&(n={step:n});var s=i.has(n,"message")?n.message:this.validityMessages.step;return"undefined"==typeof e||null===e||i.isEmpty(e)||e%n.step===0?!0:this.setValidity(t,this.formatValidityMessage(s,n.step),"range")},range:function(t,e,n){i.isArray(n)&&(n={min:n[0],max:n[1]});var s=i.has(n,"message")?n.message:this.validityMessages.range;return"undefined"!=typeof e&&null!==e&&!i.isEmpty(e)&&(e<n.min||e>n.max)?this.setValidity(t,this.formatValidityMessage(s,[n.min,n.max]),"range"):!0},length:function(t,e,n){"object"!=typeof n&&(n={length:n});var s=i.has(n,"message")?n.message:this.validityMessages.length;return"undefined"==typeof e||null===e||i.isEmpty(e)||e.length===n.length?!0:this.setValidity(t,this.formatValidityMessage(s,n.length),"length")},minlength:function(t,e,n){"object"!=typeof n&&(n={minlength:n});var s=i.has(n,"message")?n.message:this.validityMessages.minlength;return"undefined"!=typeof e&&null!==e&&!i.isEmpty(e)&&e.length<n.minlength?this.setValidity(t,this.formatValidityMessage(s,n.minlength),"minlength"):!0},maxlength:function(t,e,n){"object"!=typeof n&&(n={maxlength:n});var s=i.has(n,"message")?n.message:this.validityMessages.maxlength;return"undefined"!=typeof e&&null!==e&&!i.isEmpty(e)&&e.length>n.maxlength?this.setValidity(t,this.formatValidityMessage(s,n.maxlength),"maxlength"):!0},rangelength:function(t,e,n){i.isArray(n)&&(n={min:n[0],max:n[1]});var s=i.has(n,"message")?n.message:this.validityMessages.rangelength;return"undefined"!=typeof e&&null!==e&&!i.isEmpty(e)&&(e.length<n.min||e.length>n.max)?this.setValidity(t,this.formatValidityMessage(s,[n.min,n.max]),"rangelength"):!0},pattern:function(t,e,n){i.isString(n)?n={pattern:new RegExp(n)}:n instanceof RegExp&&(n={pattern:n}),n.pattern=n.pattern instanceof RegExp?n.pattern:new RegExp(n.pattern);var s=i.has(n,"message")?n.message:this.validityMessages.pattern;return"undefined"==typeof e||null===e||i.isEmpty(e)||n.pattern.test(e)?!0:this.setValidity(t,this.formatValidityMessage(s),"pattern")},url:function(t,e,n){"object"!=typeof n&&(n={schemes:["http","https","ftp"],requireTld:!0,requireScheme:!1});var s=i.has(n,"message")?n.message:this.validityMessages.url,a=new RegExp("^(?!mailto:)(?:(?:"+n.schemes.join("|")+")://)"+(n.requireScheme?"":"?")+"(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))"+(n.requireTld?"":"?")+")|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i");return"undefined"==typeof e||null===e||i.isEmpty(e)||!(e.length>2083)&&a.test(e)?!0:this.setValidity(t,this.formatValidityMessage(s),"url")},email:function(t,e,n){var s=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i;"object"!=typeof n&&(n={});var a=i.has(n,"message")?n.message:this.validityMessages.email;return"undefined"==typeof e||null===e||i.isEmpty(e)||s.test(e)?!0:this.setValidity(t,this.formatValidityMessage(a),"email")},numeric:function(t,e,n){var s=/^-?[0-9]+$/;"object"!=typeof n&&(n={});var a=i.has(n,"message")?n.message:this.validityMessages.numeric;return"undefined"==typeof e||null===e||i.isEmpty(e)||s.test(e)?!0:this.setValidity(t,this.formatValidityMessage(a),"numeric")},alphanumeric:function(t,e,n){var s=/^[a-zA-Z0-9]+$/;"object"!=typeof n&&(n={});var a=i.has(n,"message")?n.message:this.validityMessages.alphanumeric;return"undefined"==typeof e||null===e||i.isEmpty(e)||s.test(e)?!0:this.setValidity(t,this.formatValidityMessage(a),"alphanumeric")},alpha:function(t,e,n){var s=/^[a-zA-Z]+$/;"object"!=typeof n&&(n={});var a=i.has(n,"message")?n.message:this.validityMessages.alpha;return"undefined"==typeof e||null===e||i.isEmpty(e)||s.test(e)?!0:this.setValidity(t,this.formatValidityMessage(a),"alpha")}}},{"../utils":12}],9:[function(t,e){var i=t("../utils"),n=function(){var t={};this.setupUI=function(){if(this.ui){this._ui||(this._ui=this.ui);var t=i.result(this,"_ui");this.ui={},i.forIn(t,function(t,e){this.ui[e]=this.select(t,!0)},this)}},this.teardownUI=function(){if(this.ui){this._ui||(this._ui=this.ui);var t=i.result(this,"_ui");i.forIn(t,function(t,e){delete this.ui[e]},this)}},this.setupEvents=function(){this.events&&i.forIn(this.events,function(t,e){var i,n,s=e.split(/[. ]+/,2);1===s.length?(i=this.el,n=s[0]):(i=this.ui[s[0]],n=s[1]),this.listenTo(i,n,t)},this)},this.teardownEvents=function(){this.events&&i.forIn(this.events,function(t,e){var i,n,s=e.split(/[. ]+/,2);1===s.length?(i=this.el,n=s[0]):(i=this.ui[s[0]],n=s[1]),this.stopListening(i,n)},this)},i.has(this,"render")||(this.render=function(e){var n,s="",a="";if(this.template){if(this._isRendered&&(this.teardownEvents(),this.teardownUI()),i.isFunction(this.template))s=this.template(e);else{if(i.has(t,this.template))a=t[this.template];else{if(n=window.document.querySelector(this.template),!n)throw Error("template "+this.template+" not found");a=n.innerHTML,t[this.template]=a}s=i.template(a,e||{})}this.el.innerHTML=s,this.setupUI(),this.setupEvents(),this._isRendered=!0}}),this.remove=function(){this.el.parentNode.removeChild(this.el)},this.before("initialize",function(){this.el.children.length>0&&(this.setupUI(),this.setupEvents())})};e.exports=n},{"../utils":12}],10:[function(t,e){var i=t("./utils"),n=function(){this.components={},this.instances={},this.instancesAll={}};n.prototype.addComponent=function(t){var e=t.prototype.type;this.components[e]=t},n.prototype.addInstance=function(t){if(this.instancesAll[t.id])throw new Error("an instance with id "+t.id+" already exists");this.instancesAll[t.id]=t,this.instances[t.type]=this.instances[t.type]||{},this.instances[t.type][t.id]=t},n.prototype.findComponent=function(t){return this.components[t]||null},n.prototype.findInstance=function(t){return this.instancesAll[t]||null},n.prototype.findInstancesOf=function(t){var e=i.isString(t)?t:t.type;return i.values(this.instances[e])||null},n.prototype.removeComponent=function(t){var e=i.isString(t)?t:t.type;delete this.components[e]},n.prototype.removeInstance=function(t){var e=i.isString(t)?t:t.id;t=this.instancesAll[e],t.destroy(),delete this.instancesAll[e],delete this.instances[t.type][e]},n.prototype.removeInstancesOf=function(t){var e=i.isString(t)?t:t.type,n=this.instances[e];for(var s in n)this.instancesAll[s].destroy(),delete this.instancesAll[s];delete this.instances[e]},e.exports=new n},{"./utils":12}],11:[function(t,e,i){"undefined"!=typeof _&&(i.omit=_.omit,i.pick=_.pick,i.has=_.has,i.defaults=_.defaults,i.clone=_.clone,i.isEmpty=_.isEmpty,i.isString=_.isString,i.isArray=_.isArray,i.isFunction=_.isFunction,i.isElement=_.isElement,i.forIn=_.forIn,i.values=_.values,i.create=_.create,i.result=_.result,i.uniqueId=_.uniqueId,i.noop=_.noop,i.template=_.template,i.wrap=_.wrap,i.bind=_.bind,i.bindAll=_.bindAll,i.defer=_.defer,i.forEach=_.forEach,i.map=_.map)},{}],12:[function(t,e,i){i.extend=t("lodash-node/modern/objects/assign"),i.extend(i,t("./utils-ext-global")),i.extend(i,t("./utils-ext-require")),i.define=function(t){var e,n=[],s=this;if(e=t&&i.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},e.prototype=i.create(s.prototype,t),i.extend(e,s),i.bindAll(e),arguments.length>1){n=new Array(arguments.length-1);for(var a=1,r=n.length;r>=a;a++)n[a-1]=arguments[a]}return i.mixin.call(e.prototype,n),e},i.mixin=function(t){t&&(this._mixins=i.has(this,"_mixins")?this._mixins:[],i.forEach(t,function(t){-1===this._mixins.indexOf(t)&&(t.call(this),this._mixins.push(t))},this))},i.documentReady=function(t){"complete"===window.document.readyState||"loaded"===window.document.readyState||"interactive"===window.document.readyState?t():window.document.addEventListener("DOMContentLoaded",t)},i.select=function(t,e,i){return"undefined"===i&&(i=e||!1,e=t,t=null),e||(e=t,t=null),t=t||window.document,i?t.querySelector(e):t.querySelectorAll(e)},i.matches=function(t,e){var i=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector;if(i)return i.call(t,e);for(var n=t.parentNode.querySelectorAll(e),s=n.length;s--;)if(n[s]===t)return!0;return!1},i.addClassName=function(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");i.test(t.className)||(t.className=(t.className+" "+e).trim())},i.removeClassName=function(t,e){for(var i,n=e.split(" "),s=0,a=n.length;a>s;s++)i=new RegExp("(^|\\s)"+e+"(\\s|$)"),t.className=t.className.replace(i," ").trim()},i.createEvent=function(t,e,i){var n;return i=i||{bubbles:!1,cancelable:!1},"function"==typeof CustomEvent?n=new CustomEvent(t,{detail:e,bubbles:i.bubbles,cancelable:i.cancelable}):(n=window.document.createEvent("CustomEvent"),n.initCustomEvent(t,i.bubbles,i.cancelable,e)),n},i.getObjectPath=function(t,e){var i=e.split(".");return i.reduce(function(t,e){return t[e]},t)},i.setObjectPath=function(t,e,n){for(var s=t,a=e.split("."),r=0,o=a.length;o>r;r++)o-1>r?(i.has(s,a[r])||(s[a[r]]={}),s=s[a[r]]):s[a[r]]=n},i.buildHtml=function(t,e){e=e||{};var n=function(t,s,a){var r,o,u,l;if("@"===s)i.forIn(a,function(i,n){t.setAttribute(n,i.toString()),e.attribute&&e.attribute(t,n)});else if("text"===s)r=document.createTextNode(a.toString());else{var c=s.match(/^([a-z][\w0-9-]*)?(?:#([a-z][\w0-9-]*))?((?:\.([a-z][\w0-9-]*))+)?$/i);o=c[1]||"div",u=c[2]||null,l=c[3]?c[3].replace(/\./g," ").trim():null,r=document.createElement(o),u&&(r.id=u),l&&(r.className=l),i.isString(a)?r.innerHTML=a:i.forIn(a,function(t,e){n(r,e,t)})}r&&(e.element&&e.element(r),t.appendChild(r))},s=document.createDocumentFragment();return i.forIn(t,function(t,e){n(s,e,t)},this),s};var n=0;i.requestAnimationFrame=i.bind(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window),i.requestAnimationFrame||(i.requestAnimationFrame=i.bind(function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-n)),s=window.setTimeout(function(){t(e+i)},i);return n=e+i,s},window)),i.cancelAnimationFrame=i.bind(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame,window),i.cancelAnimationFrame||(i.cancelAnimationFrame=i.bind(function(t){clearTimeout(t)},window)),i.easing={linear:function(t,e,i,n){return i*(t/=n)+e},easeIn:function(t,e,i,n){return t/=n,i*t*t+e},easeOut:function(t,e,i,n){return t/=n,-i*t*(t-2)+e},easeInOut:function(t,e,i,n){return t/=n/2,1>t?i/2*t*t+e:(t--,-i/2*(t*(t-2)-1)+e)}},i.animate=function(t,e,n,s){i.defaults(n,{duration:1e3,step:i.noop,easing:i.easing.linear,complete:i.noop}),i.isString(n.easing)&&(n.easing=i.easing[n.easing]),t=parseFloat(t),e=parseFloat(e);var a=e-t,r=+new Date,o=function(){var u=+new Date,l=u-r,c=Math.min(1,l/n.duration),h=n.easing(l,t,a,n.duration);1>c?n.step.call(s,c,h)!==!1&&i.requestAnimationFrame(o):(n.step.call(s,1,e),n.complete.call(s,1,e))};o()}},{"./utils-ext-global":11,"lodash-node/modern/objects/assign":24}],13:[function(t,e){function i(t,e){return arguments.length>2?n(t,17,s(arguments,2),null,e):n(t,1,null,null,e)}var n=t("../internals/createWrapper"),s=t("../internals/slice");e.exports=i},{"../internals/createWrapper":18,"../internals/slice":23}],14:[function(t,e){function i(t){function e(){if(o){var t=r(o);u.apply(t,arguments)}if(this instanceof e){var a=n(i.prototype),c=i.apply(a,t||arguments);return s(c)?c:a}return i.apply(l,t||arguments)}var i=t[0],o=t[2],l=t[4];return a(e,t),e}var n=t("./baseCreate"),s=t("../objects/isObject"),a=t("./setBindData"),r=t("./slice"),o=[],u=o.push;e.exports=i},{"../objects/isObject":26,"./baseCreate":15,"./setBindData":21,"./slice":23}],15:[function(t,e){(function(i){function n(t){return a(t)?r(t):{}}var s=t("./isNative"),a=t("../objects/isObject"),r=(t("../utilities/noop"),s(r=Object.create)&&r);r||(n=function(){function t(){}return function(e){if(a(e)){t.prototype=e;var n=new t;t.prototype=null}return n||i.Object()}}()),e.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../objects/isObject":26,"../utilities/noop":30,"./isNative":19}],16:[function(t,e){function i(t,e,i){if("function"!=typeof t)return s;if("undefined"==typeof e||!("prototype"in t))return t;var c=t.__bindData__;if("undefined"==typeof c&&(r.funcNames&&(c=!t.name),c=c||!r.funcDecomp,!c)){var h=l.call(t);r.funcNames||(c=!o.test(h)),c||(c=u.test(h),a(t,c))}if(c===!1||c!==!0&&1&c[1])return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,s){return t.call(e,i,n,s)};case 4:return function(i,n,s,a){return t.call(e,i,n,s,a)}}return n(t,e)}var n=t("../functions/bind"),s=t("../utilities/identity"),a=t("./setBindData"),r=t("../support"),o=/^\s*function[ \n\r\t]+\w/,u=/\bthis\b/,l=Function.prototype.toString;e.exports=i},{"../functions/bind":13,"../support":28,"../utilities/identity":29,"./setBindData":21}],17:[function(t,e){function i(t){function e(){var t=p?d:this;if(c){var a=r(c);u.apply(a,arguments)}if((h||g)&&(a||(a=r(arguments)),h&&u.apply(a,h),g&&a.length<f))return l|=16,i([o,v?l:-4&l,a,null,d,f]);if(a||(a=arguments),m&&(o=t[y]),this instanceof e){t=n(o.prototype);var b=o.apply(t,a);return s(b)?b:t}return o.apply(t,a)}var o=t[0],l=t[1],c=t[2],h=t[3],d=t[4],f=t[5],p=1&l,m=2&l,g=4&l,v=8&l,y=o;return a(e,t),e}var n=t("./baseCreate"),s=t("../objects/isObject"),a=t("./setBindData"),r=t("./slice"),o=[],u=o.push;e.exports=i},{"../objects/isObject":26,"./baseCreate":15,"./setBindData":21,"./slice":23}],18:[function(t,e){function i(t,e,o,c,h,d){var f=1&e,p=2&e,m=4&e,g=16&e,v=32&e;if(!p&&!a(t))throw new TypeError;g&&!o.length&&(e&=-17,g=o=!1),v&&!c.length&&(e&=-33,v=c=!1);var y=t&&t.__bindData__;if(y&&y!==!0)return y=r(y),y[2]&&(y[2]=r(y[2])),y[3]&&(y[3]=r(y[3])),!f||1&y[1]||(y[4]=h),!f&&1&y[1]&&(e|=8),!m||4&y[1]||(y[5]=d),g&&u.apply(y[2]||(y[2]=[]),o),v&&l.apply(y[3]||(y[3]=[]),c),y[1]|=e,i.apply(null,y);var b=1==e||17===e?n:s;return b([t,e,o,c,h,d])}var n=t("./baseBind"),s=t("./baseCreateWrapper"),a=t("../objects/isFunction"),r=t("./slice"),o=[],u=o.push,l=o.unshift;e.exports=i},{"../objects/isFunction":25,"./baseBind":14,"./baseCreateWrapper":17,"./slice":23}],19:[function(t,e){function i(t){return"function"==typeof t&&a.test(t)}var n=Object.prototype,s=n.toString,a=RegExp("^"+String(s).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");e.exports=i},{}],20:[function(t,e){var i={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};e.exports=i},{}],21:[function(t,e){var i=t("./isNative"),n=t("../utilities/noop"),s={configurable:!1,enumerable:!1,value:null,writable:!1},a=function(){try{var t={},e=i(e=Object.defineProperty)&&e,n=e(t,t,t)&&e}catch(s){}return n}(),r=a?function(t,e){s.value=e,a(t,"__bindData__",s)}:n;e.exports=r},{"../utilities/noop":30,"./isNative":19}],22:[function(t,e){var i=t("./objectTypes"),n=Object.prototype,s=n.hasOwnProperty,a=function(t){var e,n=t,a=[];if(!n)return a;if(!i[typeof t])return a;for(e in n)s.call(n,e)&&a.push(e);return a};e.exports=a},{"./objectTypes":20}],23:[function(t,e){function i(t,e,i){e||(e=0),"undefined"==typeof i&&(i=t?t.length:0);for(var n=-1,s=i-e||0,a=Array(0>s?0:s);++n<s;)a[n]=t[e+n];return a}e.exports=i},{}],24:[function(t,e){var i=t("../internals/baseCreateCallback"),n=t("./keys"),s=t("../internals/objectTypes"),a=function(t,e,a){var r,o=t,u=o;if(!o)return u;var l=arguments,c=0,h="number"==typeof a?2:l.length;if(h>3&&"function"==typeof l[h-2])var d=i(l[--h-1],l[h--],2);else h>2&&"function"==typeof l[h-1]&&(d=l[--h]);for(;++c<h;)if(o=l[c],o&&s[typeof o])for(var f=-1,p=s[typeof o]&&n(o),m=p?p.length:0;++f<m;)r=p[f],u[r]=d?d(u[r],o[r]):o[r];return u};e.exports=a},{"../internals/baseCreateCallback":16,"../internals/objectTypes":20,"./keys":27}],25:[function(t,e){function i(t){return"function"==typeof t}e.exports=i},{}],26:[function(t,e){function i(t){return!(!t||!n[typeof t])}var n=t("../internals/objectTypes");e.exports=i},{"../internals/objectTypes":20}],27:[function(t,e){var i=t("../internals/isNative"),n=t("./isObject"),s=t("../internals/shimKeys"),a=i(a=Object.keys)&&a,r=a?function(t){return n(t)?a(t):[]}:s;e.exports=r},{"../internals/isNative":19,"../internals/shimKeys":22,"./isObject":26}],28:[function(t,e){(function(i){var n=t("./internals/isNative"),s=/\bthis\b/,a={};a.funcDecomp=!n(i.WinRTError)&&s.test(function(){return this}),a.funcNames="string"==typeof Function.name,e.exports=a}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./internals/isNative":19}],29:[function(t,e){function i(t){return t}e.exports=i},{}],30:[function(t,e){function i(){}e.exports=i},{}]},{},[2])(2)});